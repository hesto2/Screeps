var harvester = require("harvester");
var courier = require("courier");
var janitor = require("Janitor");
var harvesters = 2;
var couriers = 1
var janitors = 1;
var spawn1 = Game.spawns.Spawn1;
//First tier
console.log(getActiveCreeps("janitor"))
console.log(janitors);
if(spawn1.energy > 1000)
{
    harvesters = 10;
    couriers = 5;
    janitors = 1;
}
if(spawn1.energy > 3500)
{
    harvesters = 25;
    couriers = 10;
    janitors = 1
}
else
{
    harvesters = 3;
    couriers = 1;
    janitors = 0
}

if(getActiveCreeps("harvester") < harvesters ){
    spawn1.createCreep([WORK,CARRY,MOVE,MOVE],undefined, {role:"harvester"});
    
}
if(getActiveCreeps("courier") < couriers){
    spawn1.createCreep([WORK,CARRY,CARRY,MOVE,MOVE],undefined, {role:"courier"});
    
}


for(var name in Game.creeps) {
    
	var creep = Game.creeps[name];
	
    if(creep.memory[0] == "harvester" || creep.memory.role == "harvester")
    {
        harvester(creep);
    }
    else if(creep.memory[0] == "courier"|| creep.memory.role == "courier")
    {
        courier(creep);
    }
    else if(creep.memory[0] == "janitor"|| creep.memory.role == "janitor")
    {
        janitor(creep);
    }
    else if(creep.memory.role == undefined){
        creep.memory.role = "harvester";
    }
}

function getActiveCreeps(role){
    var count = 0;
    for(var name in Game.creeps){
        var creep = Game.creeps[name];
        if(creep.memory[0] == role)
        {
            count++;
        }
       
    }
    return count;
}
